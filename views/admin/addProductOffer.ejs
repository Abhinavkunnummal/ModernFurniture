<%- include('/home/ubuntu/ModernFurniture/views/admin_Layouts/header.ejs') %>
<%- include('/home/ubuntu/ModernFurniture/views/admin_Layouts/sidenav.ejs') %>

<div class="container" style="margin-left: 300px; margin-top: 50px;">
  <h1>Add Product Offer</h1>

  <% if (errorMessage.length > 0) { %>
    <div class="alert alert-danger" role="alert">
      <%= errorMessage %>
    </div>
  <% } %>

  <% if (successMessage.length > 0) { %>
    <div class="alert alert-success" role="alert">
      <%= successMessage %>
    </div>
  <% } %>

  <form action="/admin/addProductOffer" method="POST">
    <div class="mb-3">
      <label for="offerName" class="form-label">Offer Name</label>
      <input type="text" class="form-control" id="offerName" name="offerName" required 
             pattern="^[a-zA-Z0-9\s]+$" title="Offer name cannot contain special characters." 
             style="width: 500px; background-color: #f0f0f0;">
    </div>

    <div class="mb-3">
      <label for="discount" class="form-label">Discount (%)</label>
      <input type="number" class="form-control" id="discount" name="discount" required 
             min="1" max="99" style="width: 500px; background-color: #f0f0f0;">
    </div>

    <div class="mb-3">
      <label for="startDate" class="form-label">Start Date</label>
      <input type="date" class="form-control" id="startDate" name="startDate" required 
             style="width: 500px; background-color: #f0f0f0;">
    </div>

    <div class="mb-3">
      <label for="endDate" class="form-label">End Date</label>
      <input type="date" class="form-control" id="endDate" name="endDate" required 
             style="width: 500px; background-color: #f0f0f0;">
    </div>

    <div class="mb-3">
      <label for="productId" class="form-label">Product</label>
      <select class="form-select" id="productId" name="productId" required 
              style="width: 500px; background-color: #f0f0f0;">
        <% products.forEach((product) => { %>
          <option value="<%= product._id %>"><%= product.name %></option>
        <% }); %>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Add Offer</button>
  </form>
</div>

<%- include('/home/ubuntu/ModernFurniture/views/admin_Layouts/footer.ejs') %>
