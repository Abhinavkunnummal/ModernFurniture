<aside class="navbar-aside" id="offcanvas_aside">
    <div class="aside-top">
        <a href="index.html" class="brand-wrap">
            <img src="/admin_assets/imgs/theme/log.png" class="logo" alt="Nest Dashboard" />
        </a>
        <div>
            <button class="btn btn-icon btn-aside-minimize"><i class="text-muted material-icons md-menu_open"></i></button>
        </div>
    </div>
    <nav>
        <ul class="menu-aside">
            <li class="menu-item" data-page="dashboard">
                <a class="menu-link" href="/admin">
                    <i class="icon material-icons md-home"></i>
                    <span class="text">Dashboard</span>
                </a>
            </li>

            <li class="menu-item" data-page="customers">
                <a class="menu-link" href="/admin/customerDetails">
                    <i class="icon material-icons md-person"></i>
                    <span class="text">Customers</span>
                </a>
            </li>

            <li class="menu-item" data-page="category">
                <a class="menu-link" href="/admin/categoryDetails">
                    <i class="icon material-icons md-category"></i>
                    <span class="text">Category</span>
                </a>
            </li>
        
            <li class="menu-item" data-page="product">
                <a class="menu-link" href="/admin/Productlist">
                    <i class="icon material-icons md-comment"></i>
                    <span class="text">Product</span>
                </a>
            </li>
            <li class="menu-item" data-page="orders">
                <a class="menu-link" href="/admin/orderDetails"> 
                    <i class="icon material-icons md-stars"></i> 
                    <span class="text">Orders</span> 
                </a>
            </li>
            <li class="menu-item" data-page="coupon">
                <a class="menu-link" href="/admin/coupon">
                    <i class="icon material-icons md-pie_chart"></i>
                    <span class="text">Coupons</span>
                </a>
            </li>

            <li class="menu-item has-submenu" data-page="offer">
                <a class="menu-link" href="#">
                    <i class="icon material-icons md-local_offer"></i>
                    <span class="text">Offers</span>
                </a>
                <ul class="submenu">
                    <li><a href="/admin/productOffer" data-subpage="product-offer">Product Offer</a></li>
                    <li><a href="/admin/categoryOffer" data-subpage="category-offer">Category Offer</a></li>
                </ul>
            </li>
            <li class="menu-item" data-page="sales-report">
                <a class="menu-link" href="/admin/salesreport">
                    <i class="icon material-icons md-pie_chart"></i>
                    <span class="text">Sales Report</span>
                </a>
            </li>
        </ul>
        <hr />
        <ul class="menu-aside">
            <li class="menu-item" data-page="logout">
                <a class="menu-link" href="/admin/logout">
                    <i class="icon material-icons md-logout"></i>
                    <span class="text">Logout</span>
                </a>
            </li>
        </ul>
        <br />
        <br />
    </nav>
</aside>

<style>
    .menu-item.has-submenu > .menu-link {
        cursor: pointer;
    }
    .submenu {
        display: none;
        padding-left: 20px;
    }
    .menu-item.has-submenu.open > .submenu {
        display: block;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const menuItems = document.querySelectorAll('.menu-item');
    const currentPath = window.location.pathname;

    function setActiveMenuItem(item) {
        menuItems.forEach(mi => mi.classList.remove('active'));
        item.classList.add('active');
    }

    function toggleSubmenu(item) {
        item.classList.toggle('open');
    }

    menuItems.forEach(item => {
        const link = item.querySelector(':scope > .menu-link');
        if (link && link.getAttribute('href') === currentPath) {
            setActiveMenuItem(item);
        }

        if (item.classList.contains('has-submenu')) {
            const subItems = item.querySelectorAll('.submenu a');
            subItems.forEach(subItem => {
                if (subItem.getAttribute('href') === currentPath) {
                    setActiveMenuItem(item);
                    item.classList.add('open');
                    subItem.parentElement.classList.add('active');
                }
            });

            link.addEventListener('click', function(e) {
                e.preventDefault();
                toggleSubmenu(item);
            });
        } else {
            link.addEventListener('click', function() {
                setActiveMenuItem(item);
            });
        }
    });
});
</script>